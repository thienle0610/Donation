<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CQST Donation</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
    <!-- bootstrap and fontawesome CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    

    <script>
        function checkValidation()
{

            var regName = /^[a-zA-Z]+$/;
            var regNameln = /^[a-zA-Z]+$/;
            var regNamepn = /^\+?1?\s*?\(?\d{3}(?:\)|[-|\s])?\s*?\d{3}[-|\s]?\d{4}$/;
            var regNames = /^[a-zA-Z]+$/;
            var regNameemail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            var regNamead = /^\d{1,5}\s(\b\w*\b\s){1,2}\w*/;
            var regNamec = /^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}$/;
            var regNamecvc = /^[0-9]{3,4}$/;
            
            
            var lname = document.getElementById('ln').value;
            var fname = document.getElementById('fn').value;
            var phoneno = document.getElementById('pn').value;
            var email = document.getElementById('email').value;
            var address = document.getElementById('address').value;
            var state = document.getElementById('state').value;
            var value1 = document.getElementById('optradio1').checked;
            var value2 = document.getElementById('optradio2').checked;
            var value3 = document.getElementById('optradio3').checked;
            var value4 = document.getElementById('optradio4').checked;
            var value5 = document.getElementById('optradio5').checked;
            var visa = document.getElementById('visa').checked;
            var mastercard = document.getElementById('mastercard').checked;
            var paypal = document.getElementById('paypal').checked;
            var card = document.getElementById('card').value;
            var cvc = document.getElementById('cvc').value;
            var selectedText = document.getElementById('datepicker').value;
            var selectedDate = new Date(selectedText);
            var now = new Date();
                

            if(!regName.test(fname)){
                alert('Please enter your first name in alphabet letters.');
                document.getElementById('fn').focus();
                // console.log('first name is not valid.');
                return false;
            }
            else if (!regNameln.test(lname))
            {
                alert('Please enter your last name in alphabet letters.');
                document.getElementById('ln').focus();
                // console.log('last name is not valid.');
                return false;
            }
            else if (!regNamepn.test(phoneno)){
                alert('Please enter your correct phone number.');
                document.getElementById('pn').focus();
                return false;
            }
            else if(!regNameemail.test(email)){
                alert('Please enter your email in the correct form.');
                document.getElementById('email').focus();
                return false;
            }
            else if(!regNamead.test(address)){
                alert('Please enter your address in the correct form.');
                document.getElementById('address').focus();
                return false;
            }
            else if (!regNames.test(state))
            {
                alert('Please enter your state.');
                document.getElementById('state').focus();
                return false;
            }
            else if(value1 == false && value2 == false && value3 ==false && value4 ==false && value5 == false){
                alert('You need to select the amount of money you want to donate.');
                return false;
            }
            else if(visa == false && mastercard == false && paypal ==false){
                alert('You need to select one of the payment method!');
                return false;
            }
            else if(card.value == 0)
            {
                alert('Please enter the bank account number.');
                document.getElementById('card').focus();
                return false;
            }
            else if(!regNamec.test(card)){
                alert('Please enter the correct bank account number.');
                document.getElementById('card').focus();
                return false;
            }
            else if(!regNamecvc.test(cvc)){
                alert('Please enter your CVC number.');
                document.getElementById('cvc').focus();
                return false;
            }
            else if (selectedText == 0)
            {
                alert('Please enter the expire date of your card.');
                document.getElementById('datepicker').focus();
                return false;
            }
            else if (selectedDate < now) {
                alert("Date must be in the future");
                return false;
            }
            else{
                return true;
            }
                     
}

    </script>

</head>
<body>
    <div class="content">
        <header>
            <div class="img-container">
                <img src="logo.png" style="border-radius: 50%" class="center" alt="logo"/>
            </div>
            <nav class="navbar navbar-inverse">
                      <div class="container-fluid">
                      <ul class="nav navbar-nav">
                          <li><a href="DONATE.html" class="btn-danger">DONATE</a></li>
                          <li><a href="home.html"><i class="fa fa-home"></i> Home</a></li>
                          <li><a href="news.html">News</a></li>
                          <li><a href="event.html">Events</a></li>
                          <li><a href="localdonations.html">Local Donations</a></li>
                          <li><a href="aboutus.html">About Us</a></li>
                          <li><a class="btn-primary" href="login.html"><i class="fas fa-user"></i>&nbsp; Admin Login</a></li>
                      </ul>
                      </div>
            </nav>
        </header>

         <div class="form">
            <form class="form-horizontal" method="POST" onsubmit="alert('Thank you for your donation.');" action="">
                <h3 class="text-center py-3"><strong>Donation Form</strong></h3> 
                <hr style="height:2px;border-width:0;color:gray;background-color:gray">
                <h2 class="py-3">Information</h2>
                <!-- Full name -->
                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            <label class="control-label" for="fn">*First Name:</label>
                            <input type="text" class="form-control" id="fn">
                            <div class="clear"></div>
                        </div>
                        <div class="col-md-6">
                            <label class="control-label" for="lastname">*Last Name:</label>
                            <input type="text" class="form-control" id="ln">
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>  

                <!-- Email & Phone number -->
                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            <label class="control-label" for="phonenumber">Phone Number:</label>
                            <input type="tel" class="form-control" id="pn" placeholder="000-000-0000" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}">
                            <div class="clear"></div>
                        </div>
                        
                        <div class="col-md-6">
                            <label class="control-label" for="email">*Email:</label>              
                            <input type="email" class="form-control" id="email" placeholder="id@example.com / must include . after @" >
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>

                <!-- Address & State -->
                 <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-12">
                            <label class="control-label" for="address">*Address:</label>
                            <input type="text" class="form-control" id="address" placeholder="1234 Main Street">
                            <div class="clear"></div>
                        </div>
                    </div>
                </div> 
                
                <!-- City and Donation Type -->
                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-4">
                            <label class="control-label" for="city">Country:</label>
                            <div id="opt">
                                    <select class="form-control" name="city" id="city">
                                        
                                        <option value="1" id="op1" default>Canada</option>
                                        <option value="2" id="op2">USA</option>
                                    </select>
                            </div>
                            
                            <div class="clear"></div>
                        </div>

                        <div class="col-md-4">
                            <label class="control-label" for="state">State:</label>
                            <input type="text" class="form-control" id="state">
                            <div class="clear"></div>
                        </div>
                            
                        <div class="col-md-4">
                            <label class="control-label" for="dotype">Donation type:</label>
                            <div id="opt">
                                    <select class="form-control" name="dotype" id="dotype">
                                        <option value="1" id="opt1" default>One-time</option>
                                        <option value="2" id="opt2">Monthly</option>
                                    </select>
                            </div>
                            
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Billing Information -->
                <hr style="height:2px;border-width:0;color:gray;background-color:gray">
                <h2 class="py-3">Billing Information</h2>

                <!-- Donate Options and Message -->
                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            <label class="control-label" for="optionfordonation" id="doopt">Donate:</label>
                            <div class="radio">
                            <label><input type="radio" name="optradio" id="optradio1" value="$50"> $50</label>
                            </div>
                            <div class="radio">
                            <label><input type="radio" name="optradio" id="optradio2" value="$100"> $100</label>
                            </div>
                            <div class="radio">
                            <label><input type="radio" name="optradio" id="optradio3" value="$150"> $150</label>
                            </div>
                            <div class="radio">
                            <label><input type="radio" name="optradio" id="optradio4" value="$200"> $200</label>
                            </div>
                            <div class="radio">
                            <label><input type="radio" name="optradio" id="optradio5" value="Other Amount"> Other Amount:</label>
                            <div class="clear"></div>
                            <input type="number" id="amount" name="amount" style="max-width: 40;" placeholder="$" class="form-control"/>
                            </div>
                            <div class="clear"></div>

                            <br>
                            
                            <br>

                            <label class="control-label" for="note">Message:</label>
                            <div class="note">
                                <textarea name="note" id="note" style="min-width: 100%;"></textarea>
                            </div>
                        </div>

                        <!-- Pay method contains card number, expire date and CVC -->
                        <div class="col-md-6">
                            <label class="control-label" for="paymethod" id="paymethod">Pay method: </label>              
                            <div class="radio">
                                <label><input type="radio" name="optra" id="visa" value="Visa"><i class="fab fa-cc-visa fa-2x"></i>  Visa</label>
                                </div>
                                <div class="radio">
                                <label><input type="radio" name="optra" id="mastercard" value="Mastercard"><i class="fab fa-cc-mastercard fa-2x"></i>  Mastercard</label>
                                </div>
                                <div class="radio">
                                <label><input type="radio" name="optra" id="paypal" value="Paypal"><i class="fab fa-cc-paypal fa-2x"></i>  Paypal</label>
                                </div>
                            <div class="clear"></div>
                            
                            <label class="control-label" for="card">Card Number:</label>              
                            <input type="text" class="form-control" id="card" placeholder="xxxx-xxxx-xxxx-xxxx">
                            <div class="clear"></div>
                            
                            <label class="control-label" for="cvc">CVC:</label>              
                            <input type="cvc" class="form-control" maxlength="4" minlength="3" id="cvc" placeholder="3 or 4 digits">
                            <div class="clear"></div>

                            <label class="control-label" for="exdate">Expire date:</label>              
                            <input id="datepicker" class="form-control" type="date" data-date-format="yyyy-mm-dd" >
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>

                <!-- Submit button that needs to check validation before the action in onSubmit() -->
                <div class="form-group">
                <div class="bttn">
                    <input id="submit" type="submit" class="btn btn-info" onclick="return (checkValidation() && store())"> 
                </div>
                <br>
                
                <br>
                </div>
            </form>
        </div> 

        <br>

        <footer>
            <p align=center>CQST &#8226; 243 Belde Drive, Charlotte NC 28F20 &#8226; 123-456-7890</p>
            <div class="footer-copyright text-center py-3">© 2020 Copyright:
              <a href="home.html"> Donation</a>
            </div>
         </footer>
    </div>
</body>
</html>